# VibeBox 产品需求文档 (PRD)

**版本**: v1.0  
**日期**: 2026-01-28  
**状态**: MVP 开发中

---

## 一、产品概述

### 1.1 产品定位

VibeBox 是一款**跨平台 AI 智能内容收藏与离线管理工具**，专注于移动端场景，通过系统分享和智能剪贴板监听，让用户轻松保存和管理来自不同平台的内容。

### 1.2 核心价值

- **统一聚合**: 一个 App 管理所有平台的收藏内容
- **离线优先**: 无网络环境也能流畅查看
- **智能整理**: AI 自动分类，告别混乱的收藏夹
- **隐私安全**: 数据完全本地存储，不上传云端

### 1.3 目标用户

**主要用户画像**:
- 📱 重度移动互联网用户
- 🎓 信息工作者（投资者、研究员、创作者）
- ✈️ 经常需要离线查看内容的用户（通勤、出差）
- 🗂️ 收藏内容多但管理混乱的用户

---

## 二、用户场景与痛点

### 2.1 核心场景

**场景 1: 跨平台内容收藏**
> 小李是一名投资分析师，他每天需要在小红书看消费趋势、在雪球看投资研报、在 B站 看行业分析视频。但这些内容分散在不同 App 里，查找和整理非常麻烦。

**场景 2: 离线内容消费**
> 小王每天地铁通勤 2 小时，地铁信号不好，他想在通勤时间看之前收藏的视频和文章，但大部分 App 都需要联网才能查看。

**场景 3: 收藏内容管理**
> 小张收藏了上千条内容，但从来不整理，导致想找某个内容时完全找不到，收藏功能形同虚设。

### 2.2 用户痛点

| 痛点 | 现状 | VibeBox 解决方案 |
|------|------|-----------------|
| **平台割裂** | 内容分散在各个 App | 统一聚合到一个 Feed 流 |
| **无法离线** | 大部分 App 需要联网 | 自动下载到本地，完全离线可用 |
| **整理困难** | 收藏后从不整理 | AI 自动分类打标签 |
| **查找麻烦** | 收藏太多找不到 | 全文搜索 + 智能推荐 |
| **操作繁琐** | 需要手动复制粘贴 | 一键分享即可保存 |

---

## 三、核心功能模块

### 3.1 内容采集模块

#### 3.1.1 系统分享菜单集成

**功能描述**:
- 在 iOS/Android 系统分享菜单中显示"VibeBox"选项
- 用户在任何 App 点击"分享" → 选择"VibeBox"即可保存

**技术实现**:
- iOS: Share Extension
- Android: Intent Filter

**支持的内容类型**:
- URL 链接
- 文本内容
- 图片（截图）

#### 3.1.2 剪贴板智能监听

**功能描述**:
- 当用户复制链接后打开 VibeBox
- 自动检测剪贴板中的链接
- 弹出快速保存卡片

**交互流程**:
```
用户复制链接 → 打开 VibeBox → 
弹窗提示"检测到小红书链接，要保存吗？" → 
[保存] [忽略]
```

**隐私保护**:
- 仅在 App 前台时监听
- 需要用户授权
- 不上传剪贴板内容

#### 3.1.3 支持的平台

**Phase 1 (MVP)**:
- ✅ 小红书 (xhslink.com)
- ✅ 抖音 (v.douyin.com)
- ✅ B站 (b23.tv)

**Phase 2**:
- 微博
- 雪球
- 知乎

**Phase 3 (官方 API)**:
- YouTube
- Reddit
- Pocket

### 3.2 内容解析模块

#### 3.2.1 链接解析服务

**功能描述**:
- 接收分享链接
- 解析获取元数据（标题、描述、图片、视频）
- 下载媒体文件到本地

**解析内容**:
```json
{
  "url": "原始链接",
  "title": "内容标题",
  "description": "内容描述",
  "platform": "平台名称",
  "author": "作者",
  "thumbnail": "缩略图 URL",
  "media_urls": ["媒体文件 URL 列表"],
  "created_at": "发布时间"
}
```

#### 3.2.2 反爬虫策略

- User-Agent 轮换
- 请求频率控制
- 代理池（可选）

### 3.3 离线存储模块

#### 3.3.1 本地数据库

**技术选型**: SQLite

**数据表设计**:
```sql
-- 收藏内容表
CREATE TABLE bookmarks (
  id TEXT PRIMARY KEY,
  url TEXT NOT NULL,
  title TEXT,
  description TEXT,
  platform TEXT,
  author TEXT,
  thumbnail_path TEXT,
  created_at INTEGER,
  saved_at INTEGER,
  is_offline_ready INTEGER DEFAULT 0
);

-- 媒体文件表
CREATE TABLE media_files (
  id TEXT PRIMARY KEY,
  bookmark_id TEXT,
  file_path TEXT,
  file_type TEXT,
  file_size INTEGER,
  downloaded_at INTEGER,
  FOREIGN KEY (bookmark_id) REFERENCES bookmarks(id)
);

-- 标签表
CREATE TABLE tags (
  id TEXT PRIMARY KEY,
  name TEXT UNIQUE
);

-- 内容-标签关联表
CREATE TABLE bookmark_tags (
  bookmark_id TEXT,
  tag_id TEXT,
  PRIMARY KEY (bookmark_id, tag_id)
);
```

#### 3.3.2 媒体文件管理

**存储策略**:
- 图片: JPG/PNG 格式，压缩存储
- 视频: MP4 格式，支持多清晰度
- 文本: HTML 格式，保留排版

**下载策略**:
- 仅在 WiFi 环境下自动下载
- 流量环境提示用户
- 支持断点续传

**容量管理**:
- 显示已用空间
- 支持清理已读内容
- 支持设置最大缓存大小

### 3.4 内容展示模块

#### 3.4.1 Feed 流

**布局模式**:
- 瀑布流（图文内容）
- 沉浸式（视频内容）

**排序方式**:
- 按保存时间
- 按平台分类
- 按标签筛选

#### 3.4.2 详情页

**功能**:
- 查看完整内容
- 播放视频（本地播放器）
- 查看图片（支持缩放）
- 阅读文章（极简排版）

**操作**:
- 添加标签
- 分享到其他 App
- 删除
- 在原 App 中打开

### 3.5 AI 智能分类模块 (Phase 2)

#### 3.5.1 自动打标签

**功能描述**:
- 根据内容标题和描述自动识别类型
- 自动添加标签（#投资、#美食、#旅行等）

**技术方案**:
- 接入 OpenAI API / Claude API
- 或使用本地模型（Ollama）

#### 3.5.2 内容摘要 (Phase 3)

**功能描述**:
- 针对长文自动生成 200 字摘要
- 显示在 Feed 流卡片上

---

## 四、技术规格

### 4.1 性能要求

| 指标 | 要求 |
|------|------|
| 分享响应时间 | < 1 秒 |
| Feed 流加载 | < 500ms |
| 视频播放启动 | < 2 秒 |
| 离线内容可用性 | 100% |

### 4.2 兼容性

- iOS 14+
- Android 8.0+
- 支持深色模式

### 4.3 安全性

- 所有数据本地加密存储
- 不上传用户数据到服务器
- 链接解析服务不记录用户信息

---

## 五、产品路线图

### v1.0 MVP (4 周)
- [x] 系统分享菜单集成
- [x] 剪贴板智能监听
- [x] 小红书/抖音/B站链接解析
- [x] 本地离线存储
- [x] 基础 Feed 流展示

### v1.5 (2-3 个月)
- [ ] AI 自动分类和标签
- [ ] 全文搜索功能
- [ ] 视频播放优化
- [ ] 更多平台支持（微博、雪球、知乎）

### v2.0 (6 个月)
- [ ] YouTube/Reddit 官方 API 集成
- [ ] AI 内容摘要
- [ ] OCR 图片文字搜索
- [ ] 跨设备云同步（可选）

### v3.0 (1 年)
- [ ] 桌面端应用
- [ ] 浏览器扩展
- [ ] 内容推荐系统
- [ ] 社区分享功能

---

## 六、商业模式

### 6.1 免费版

- 支持 3 个平台
- 最多 100 条收藏
- 基础离线功能

### 6.2 高级版 (¥19.9/月 或 ¥99/年)

- 无限平台支持
- 无限收藏数量
- AI 智能分类
- 云同步（可选）
- 优先客服支持

---

## 七、成功指标

### 7.1 核心指标

- DAU (日活跃用户)
- 留存率（次日/7日/30日）
- 平均每用户收藏数
- 离线内容查看率

### 7.2 目标

**3 个月目标**:
- 1000 注册用户
- 30% 次日留存
- 平均每用户 20 条收藏

**6 个月目标**:
- 10,000 注册用户
- 50% 次日留存
- 100 付费用户

---

## 八、风险与应对

### 8.1 技术风险

| 风险 | 应对措施 |
|------|---------|
| 平台反爬虫升级 | 及时更新解析策略，增加代理池 |
| 链接格式变化 | 建立监控机制，快速响应 |
| 存储空间不足 | 提供清理工具，支持云存储 |

### 8.2 法律风险

| 风险 | 应对措施 |
|------|---------|
| 版权问题 | 仅供个人使用，不提供分享功能 |
| 平台 ToS 违规 | 使用官方 API，遵守平台规则 |

---

<div align="center">
  <p><strong>VibeBox - 让内容收藏更简单</strong></p>
</div>
